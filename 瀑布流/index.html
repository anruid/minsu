<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
    *{
        margin:0;
        padding:0;
    }

    .itemBox{
        width: 1200px;
        margin: 0 auto;
        position: relative;
    }

    .item{
        padding: 2px;
        border:1px solid #ccc;
        position:absolute;
    }
    </style>

    <script>
    window.onload = function(){
        var itemBox = document.getElementsByClassName('itemBox')[0];
        var items = document.getElementsByClassName('item');
        var itemBoxW = itemBox.offsetWidth;
        var itemW = items[0].offsetWidth ;
        var column = parseInt(itemBoxW/itemW);
        console.log(column);
        var distance = (itemBoxW-itemW*column)/column-1;
        console.log(distance)
        
        var arr = [];

        window.onscroll = function(){
            if(window.pageYOffset+window.innerHeight>getMin(arr).minV){
                var json = [
                    {'src':'img/2.png'},
                    {'src':'img/5.png'},
                    {'src':'img/3.png'},
                    {'src':'img/1.png'},
                    {'src':'img/4.png'},
                    {'src':'img/5.png'},
                    {'src':'img/3.png'}
                ];
                for(var i= 0; i<json.length;i++){
                    var div = document.createElement('div');
                    div.className = 'item';
                    var img = document.createElement('img');
                    img.src = json[i].src;
                    div.appendChild(img);
                    itemBox.appendChild(div);
                }
                waterFull();

            }
        }

        function waterFull(){
            for(var i=0; i<items.length;i++){
                if(i<column){
                    items[i].style.left = (itemW+distance)*i+'px';
                    arr[i] = items[i].offsetHeight;
                    console.log(arr);
                   
                }else{
                    var minV = getMin(arr).minV;
                    var minI = getMin(arr).minI;
                    items[i].style.left = (itemW+distance)*minI+'px';
                    items[i].style.top = minV + distance + 'px';
                    arr[minI] = minV +distance + items[i].offsetHeight;
                }
            }
        }
        waterFull();

        function getMin(arr){
            var obj= {};
            obj.minV = arr[0];
            obj.minI = 0;
            for(var i= 1; i<arr.length; i++){
                if(obj.minV>arr[i]){
                    obj.minV = arr[i];
                    obj.minI = i;
                }
            }
            return obj;
        }

    }
    
    </script>
</head>
<body>
    <div class="itemBox">
        <div class="item">
            <img src="img/1.png" alt="">
        </div>
        <div class="item">
            <img src="img/2.png" alt="">
        </div>
        <div class="item">
            <img src="img/3.png" alt="">
        </div>
        <div class="item">
            <img src="img/4.png" alt="">
        </div>
        <div class="item">
            <img src="img/5.png" alt="">
        </div>
        <div class="item">
            <img src="img/6.png" alt="">
        </div>
        <div class="item">
            <img src="img/7.png" alt="">
        </div>
        <div class="item">
            <img src="img/8.png" alt="">
        </div>
        <div class="item">
            <img src="img/9.png" alt="">
        </div>
        <div class="item">
            <img src="img/10.png" alt="">
        </div>
        <div class="item">
            <img src="img/11.png" alt="">
        </div>
        <div class="item">
            <img src="img/12.png" alt="">
        </div>
        <div class="item">
            <img src="img/13.png" alt="">
        </div>
        <div class="item">
            <img src="img/14.png" alt="">
        </div>
        <div class="item">
            <img src="img/1.png" alt="">
        </div>
        <div class="item">
            <img src="img/2.png" alt="">
        </div>
        <div class="item">
            <img src="img/3.png" alt="">
        </div>
        <div class="item">
            <img src="img/4.png" alt="">
        </div>
        <div class="item">
            <img src="img/5.png" alt="">
        </div>
        <div class="item">
            <img src="img/6.png" alt="">
        </div>
        <div class="item">
            <img src="img/7.png" alt="">
        </div>
        <div class="item">
            <img src="img/8.png" alt="">
        </div>
        <div class="item">
            <img src="img/9.png" alt="">
        </div>
        <div class="item">
            <img src="img/10.png" alt="">
        </div>
        <div class="item">
            <img src="img/11.png" alt="">
        </div>
        <div class="item">
            <img src="img/12.png" alt="">
        </div>
        <div class="item">
            <img src="img/13.png" alt="">
        </div>
        <div class="item">
            <img src="img/14.png" alt="">
        </div>
        <div class="item">
            <img src="img/1.png" alt="">
        </div>
        <div class="item">
            <img src="img/2.png" alt="">
        </div>
        <div class="item">
            <img src="img/3.png" alt="">
        </div>
        <div class="item">
            <img src="img/4.png" alt="">
        </div>
        <div class="item">
            <img src="img/5.png" alt="">
        </div>
        <div class="item">
            <img src="img/6.png" alt="">
        </div>
        <div class="item">
            <img src="img/7.png" alt="">
        </div>
        <div class="item">
            <img src="img/8.png" alt="">
        </div>
        <div class="item">
            <img src="img/9.png" alt="">
        </div>
        <div class="item">
            <img src="img/10.png" alt="">
        </div>
        <div class="item">
            <img src="img/11.png" alt="">
        </div>
        <div class="item">
            <img src="img/12.png" alt="">
        </div>
        <div class="item">
            <img src="img/13.png" alt="">
        </div>
        <div class="item">
            <img src="img/14.png" alt="">
        </div>
        <div class="item">
            <img src="img/1.png" alt="">
        </div>
        <div class="item">
            <img src="img/2.png" alt="">
        </div>
        <div class="item">
            <img src="img/3.png" alt="">
        </div>
        <div class="item">
            <img src="img/4.png" alt="">
        </div>
        <div class="item">
            <img src="img/5.png" alt="">
        </div>
        <div class="item">
            <img src="img/6.png" alt="">
        </div>
        <div class="item">
            <img src="img/7.png" alt="">
        </div>
        <div class="item">
            <img src="img/8.png" alt="">
        </div>
        <div class="item">
            <img src="img/9.png" alt="">
        </div>
        <div class="item">
            <img src="img/10.png" alt="">
        </div>
        <div class="item">
            <img src="img/11.png" alt="">
        </div>
        <div class="item">
            <img src="img/12.png" alt="">
        </div>
        <div class="item">
            <img src="img/13.png" alt="">
        </div>
        <div class="item">
            <img src="img/14.png" alt="">
        </div>
        <div class="item">
            <img src="img/1.png" alt="">
        </div>
        <div class="item">
            <img src="img/2.png" alt="">
        </div>
        <div class="item">
            <img src="img/3.png" alt="">
        </div>
        <div class="item">
            <img src="img/4.png" alt="">
        </div>
        <div class="item">
            <img src="img/5.png" alt="">
        </div>
        <div class="item">
            <img src="img/6.png" alt="">
        </div>
        <div class="item">
            <img src="img/7.png" alt="">
        </div>
        <div class="item">
            <img src="img/8.png" alt="">
        </div>
        <div class="item">
            <img src="img/9.png" alt="">
        </div>
        <div class="item">
            <img src="img/10.png" alt="">
        </div>
        <div class="item">
            <img src="img/11.png" alt="">
        </div>
        <div class="item">
            <img src="img/12.png" alt="">
        </div>
        <div class="item">
            <img src="img/13.png" alt="">
        </div>
        <div class="item">
            <img src="img/14.png" alt="">
        </div>
        <div class="item">
            <img src="img/1.png" alt="">
        </div>
        <div class="item">
            <img src="img/2.png" alt="">
        </div>
        <div class="item">
            <img src="img/3.png" alt="">
        </div>
        <div class="item">
            <img src="img/4.png" alt="">
        </div>
        <div class="item">
            <img src="img/5.png" alt="">
        </div>
        <div class="item">
            <img src="img/6.png" alt="">
        </div>
        <div class="item">
            <img src="img/7.png" alt="">
        </div>
        <div class="item">
            <img src="img/8.png" alt="">
        </div>
        <div class="item">
            <img src="img/9.png" alt="">
        </div>
        <div class="item">
            <img src="img/10.png" alt="">
        </div>
        <div class="item">
            <img src="img/11.png" alt="">
        </div>
        <div class="item">
            <img src="img/12.png" alt="">
        </div>
        <div class="item">
            <img src="img/13.png" alt="">
        </div>
        <div class="item">
            <img src="img/14.png" alt="">
        </div>
        <div class="item">
            <img src="img/1.png" alt="">
        </div>
        <div class="item">
            <img src="img/2.png" alt="">
        </div>
        <div class="item">
            <img src="img/3.png" alt="">
        </div>
        <div class="item">
            <img src="img/4.png" alt="">
        </div>
        <div class="item">
            <img src="img/5.png" alt="">
        </div>
        <div class="item">
            <img src="img/6.png" alt="">
        </div>
        <div class="item">
            <img src="img/7.png" alt="">
        </div>
        <div class="item">
            <img src="img/8.png" alt="">
        </div>
        <div class="item">
            <img src="img/9.png" alt="">
        </div>
        <div class="item">
            <img src="img/10.png" alt="">
        </div>
        <div class="item">
            <img src="img/11.png" alt="">
        </div>
        <div class="item">
            <img src="img/12.png" alt="">
        </div>
        <div class="item">
            <img src="img/13.png" alt="">
        </div>
        <div class="item">
            <img src="img/14.png" alt="">
        </div>
        <div class="item">
            <img src="img/1.png" alt="">
        </div>
        <div class="item">
            <img src="img/2.png" alt="">
        </div>
        <div class="item">
            <img src="img/3.png" alt="">
        </div>
        <div class="item">
            <img src="img/4.png" alt="">
        </div>
        <div class="item">
            <img src="img/5.png" alt="">
        </div>
        <div class="item">
            <img src="img/6.png" alt="">
        </div>
        <div class="item">
            <img src="img/7.png" alt="">
        </div>
        <div class="item">
            <img src="img/8.png" alt="">
        </div>
        <div class="item">
            <img src="img/9.png" alt="">
        </div>
        <div class="item">
            <img src="img/10.png" alt="">
        </div>
        <div class="item">
            <img src="img/11.png" alt="">
        </div>
        <div class="item">
            <img src="img/12.png" alt="">
        </div>
        <div class="item">
            <img src="img/13.png" alt="">
        </div>
        <div class="item">
            <img src="img/14.png" alt="">
        </div>
        <div class="item">
            <img src="img/1.png" alt="">
        </div>
        <div class="item">
            <img src="img/2.png" alt="">
        </div>
        <div class="item">
            <img src="img/3.png" alt="">
        </div>
        <div class="item">
            <img src="img/4.png" alt="">
        </div>
        <div class="item">
            <img src="img/5.png" alt="">
        </div>
        <div class="item">
            <img src="img/6.png" alt="">
        </div>
        <div class="item">
            <img src="img/7.png" alt="">
        </div>
        <div class="item">
            <img src="img/8.png" alt="">
        </div>
        <div class="item">
            <img src="img/9.png" alt="">
        </div>
        <div class="item">
            <img src="img/10.png" alt="">
        </div>
        <div class="item">
            <img src="img/11.png" alt="">
        </div>
        <div class="item">
            <img src="img/12.png" alt="">
        </div>
        <div class="item">
            <img src="img/13.png" alt="">
        </div>
        <div class="item">
            <img src="img/14.png" alt="">
        </div>
        <div class="item">
            <img src="img/1.png" alt="">
        </div>
        <div class="item">
            <img src="img/2.png" alt="">
        </div>
        <div class="item">
            <img src="img/3.png" alt="">
        </div>
        <div class="item">
            <img src="img/4.png" alt="">
        </div>
        <div class="item">
            <img src="img/5.png" alt="">
        </div>
        <div class="item">
            <img src="img/6.png" alt="">
        </div>
        <div class="item">
            <img src="img/7.png" alt="">
        </div>
        <div class="item">
            <img src="img/8.png" alt="">
        </div>
        <div class="item">
            <img src="img/9.png" alt="">
        </div>
        <div class="item">
            <img src="img/10.png" alt="">
        </div>
        <div class="item">
            <img src="img/11.png" alt="">
        </div>
        <div class="item">
            <img src="img/12.png" alt="">
        </div>
        <div class="item">
            <img src="img/13.png" alt="">
        </div>
        <div class="item">
            <img src="img/14.png" alt="">
        </div>
    </div>
</body>
</html>